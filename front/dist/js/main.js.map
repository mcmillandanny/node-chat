{"version":3,"sources":["main.js"],"names":["console","log","showMessagesOnDOM","messages","messagesUL","document","querySelector","innerHTMl","forEach","message","newMessage","createElement","innerText","text","appendChild","sendMessage","field","value","axios","post","then","response","data","catch","error","addEventListener"],"mappings":";;AAAAA,QAAQC,GAAR;;AAEA;;;;;;;;AASA;;AAEA;AACA;AACA;;;AAKA,IAAIC,oBAAoB,SAApBA,iBAAoB,CAASC,QAAT,EAAmB;AAC1CH,SAAQC,GAAR,CAAY,qBAAZ,EAAoCE,QAApC;;AAEA,KAAIC,aAAaC,SAASC,aAAT,CAAuB,aAAvB,CAAjB;;AAEAF,YAAWG,SAAX,GAAuB,EAAvB;;AAGAJ,UAASK,OAAT,CAAkB,UAASC,OAAT,EAAkB;AACnC,MAAIC,aAAaL,SAASM,aAAT,CAAuB,IAAvB,CAAjB;AACAD,aAAWE,SAAX,GAAuBH,QAAQI,IAA/B;AACAT,aAAWU,WAAX,CAAwBJ,UAAxB;AACA,EAJD;AAOA,CAfD;;AAmBA,IAAIK,cAAc,SAAdA,WAAc,GAAW;AAC5B,KAAIC,QAAQX,SAASC,aAAT,CAAuB,2BAAvB,CAAZ;AACA,KAAIU,MAAMC,KAAV,EAAiB;AAChBjB,UAAQC,GAAR,CAAY,gBAAZ,EAA8Be,MAAMC,KAApC;;AAEAC,QACEC,IADF,CACO,+BADP,EACwC;AACtCN,SAAMG,MAAMC;AAD0B,GADxC,EAIEG,IAJF,CAIO,UAASC,QAAT,EAAmB;AACxBrB,WAAQC,GAAR,CAAY,gBAAZ;AACAe,SAAMC,KAAN,GAAc,EAAd;AACAjB,WAAQC,GAAR,CAAY,kBAAZ,EAAgCoB,QAAhC;AACAnB,qBAAkBmB,SAASC,IAA3B;AACA,GATF,EAUEC,KAVF,CAUQ,UAASC,KAAT,EAAgB;AACtBxB,WAAQC,GAAR,CAAY,aAAZ,EAA2BuB,KAA3B;AACA,GAZF;AAaA;AACD,CAnBD;;AAuBAnB,SAASC,aAAT,CAAuB,aAAvB,EAAsCmB,gBAAtC,CAAuD,OAAvD,EAAgEV,WAAhE","file":"main.js","sourcesContent":["console.log(`Week3-Class-Node-HW`);\n\n/*  \n\tCreate  -post /message\n\tCreate  -get /message\n\tRead\t-get  /message\n\tUpdate\t-patch\t/message1\n\tDelete\t-delete /message1\n*/\n\n\n// user types, presses send, message appears\n\n// user types, presses send, send message to server, message appears\n// user types, presses send, get message from field,send message to server, message appears\n// user types, presses send, get message from field,send message to server, get message list from server, message appears\n\n\n\n\nlet showMessagesOnDOM = function(messages) {\n\tconsole.log('gonna show messages' , messages)\n\n\tlet messagesUL = document.querySelector('ul.messages');\n\n\tmessagesUL.innerHTMl = '';\n\n\n\tmessages.forEach( function(message) {\n\t\tlet newMessage = document.createElement('li');\n\t\tnewMessage.innerText = message.text\n\t\tmessagesUL.appendChild( newMessage )\n\t})\n\t\n\n}\n\n\n\nlet sendMessage = function() {\n\tlet field = document.querySelector('input[name=\"new-message\"]');\n\tif (field.value) {\n\t\tconsole.log(\"send to server\", field.value);\n\n\t\taxios\n\t\t\t.post(\"http://localhost:1337/message\", {\n\t\t\t\ttext: field.value\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tconsole.log(\"Wooooorrkiiing\")\n\t\t\t\tfield.value = \"\";\n\t\t\t\tconsole.log('server responded', response)\n\t\t\t\tshowMessagesOnDOM(response.data)\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tconsole.log(\"broookkkeen\", error)\n\t\t\t})\n\t}\n}\n\n\n\ndocument.querySelector('button.send').addEventListener('click', sendMessage)"]}